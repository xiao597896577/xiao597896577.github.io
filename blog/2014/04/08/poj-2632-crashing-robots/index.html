
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>POJ 2632 Crashing Robots - My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="1.题目 Description In a modernized warehouse, robots are used to fetch the goods. Careful planning is needed to ensure that the robots reach their &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://xiao597896577.github.io/blog/2014/04/08/poj-2632-crashing-robots">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="header-inner">
    <span class="first"><a href="/">My Octopress Blog</a></span>
    <span><a href="/about">about</a></span>
    <span><a href="http://www.github.com/">projects</a></span>
    <span class="last"><a href="/atom.xml" title="subscribe via RSS">rss</a></span>
  </div>
</hgroup>

</header>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">POJ 2632 Crashing Robots</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-08T12:27:33+08:00" pubdate data-updated="true">Apr 8<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>1.题目</h2>

<p><strong>Description</strong></p>

<p>In a modernized warehouse, robots are used to fetch the goods. Careful planning is needed to ensure that the robots reach their destinations without crashing into each other. Of course, all warehouses are rectangular, and all robots occupy a circular floor space with a diameter of 1 meter. Assume there are N robots, numbered from 1 through N. You will get to know the position and orientation of each robot, and all the instructions, which are carefully (and mindlessly) followed by the robots. Instructions are processed in the order they come. No two robots move simultaneously; a robot always completes its move before the next one starts moving. <br>
A robot crashes with a wall if it attempts to move outside the area of the warehouse, and two robots crash with each other if they ever try to occupy the same spot.<br></p>

<p><strong>Input</strong></p>

<p>The first line of input is K, the number of test cases. Each test case starts with one line consisting of two integers, 1 &lt;= A, B &lt;= 100, giving the size of the warehouse in meters. A is the length in the EW-direction, and B in the NS-direction.<br>
The second line contains two integers, 1 &lt;= N, M &lt;= 100, denoting the numbers of robots and instructions respectively. <br>
Then follow N lines with two integers, 1 &lt;= Xi &lt;= A, 1 &lt;= Yi &lt;= B and one letter (N, S, E or W), giving the starting position and direction of each robot, in order from 1 through N. No two robots start at the same position.<br>
<img src="http://poj.org/images/2632_1.jpg" alt="" /></p>

<p><strong>Figure 1: The starting positions of the robots in the sample warehouse</strong></p>

<p>Finally there are M lines, giving the instructions in sequential order.<br>
An instruction has the following format: <br>
&lt; robot #> &lt; action> &lt; repeat> <br>
Where is one of <br>
L: turn left 90 degrees,<br>
R: turn right 90 degrees, or<br>
F: move forward one meter,<br></p>

<p>and 1 &lt;= &lt; repeat> &lt;= 100 is the number of times the robot should perform this single move.<br></p>

<p><strong>Output</strong></p>

<p>Output one line for each test case:<br>
Robot i crashes into the wall, if robot i crashes into a wall. (A robot crashes into a wall if Xi = 0, Xi = A + 1, Yi = 0 or Yi = B + 1.)<br>
Robot i crashes into robot j, if robots i and j crash, and i is the moving robot.
OK, if no crashing occurs.<br></p>

<p>Only the first crash is to be reported.<br>
<strong>Sample Input</strong></p>

<pre>
4
5 4
2 2
1 1 E
5 4 W
1 F 7
2 F 7
5 4
2 4
1 1 E
5 4 W
1 F 3
2 F 1
1 L 1
1 F 3
5 4
2 2
1 1 E
5 4 W
1 L 96
1 F 2
5 4
2 3
1 1 E
5 4 W
1 F 4
1 L 1
1 F 20
</pre>


<p><strong>Sample Output</strong></p>

<pre>
Robot 1 crashes into the wall
Robot 1 crashes into robot 2
OK
Robot 1 crashes into robot 2
</pre>


<h2>2.题意</h2>

<p>就是说给定机器人，然后给定他们的位置和前进方向，然后再给出他们接下来会发生的动作，判定是否会撞墙，或者是否或撞到其他机器人</p>

<h2>3.思路</h2>

<p>没啥思路，现在才发现模拟题，就是一步一步的走，其实都不是很复杂啦</p>

<h2>4.代码（Accept）</h2>

<pre>

<code>
#include&lt;iostream>

using namespace std;

int row = 0;
int col = 0;
int robotNum = 0;
int instructionNum = 0;

struct robot
{
    int x;
    int y;
    char direction;
};

robot robotList[110];

char s[] = {'E','N','W','S'};

int isCheck(int robotNo,int x,int y) {
    for (int i = 1;i <= robotNum;i++) {
        if(i == robotNo) continue;
        if(robotList[i].x == x && robotList[i].y == y) return i;
    }
    return 0;
}

bool isCrash(int robotNo,char action,int repeatNum){
    if(action == 'F'){
        char direction = robotList[robotNo].direction;
        int x = robotList[robotNo].x;
        int y = robotList[robotNo].y;
        if(direction == 'E'){
            int xx = x + repeatNum;
            for (int i = x + 1; i <= xx; i++){
                if(i > row){
                    cout<<"Robot " << robotNo << " crashes into the wall" << endl;
                    return true;
                }
                int rR = isCheck(robotNo,i,y);
                if(rR != 0){
                    cout << "Robot " << robotNo << " crashes into robot " << rR << endl;
                    return true;
                }
            }
            robotList[robotNo].x = xx;
        }else if(direction == 'W'){
            int xx = x - repeatNum;
            for (int i = x - 1; i >= xx; i--){
                if(i <= 0) {
                    cout << "Robot " << robotNo << " crashes into the wall" << endl;
                    return true;
                }
                int rR = isCheck(robotNo,i,y);
                if(rR != 0){
                    cout << "Robot " << robotNo << " crashes into robot " << rR << endl;
                    return true;
                }
            }
            robotList[robotNo].x = xx;
        }else if(direction == 'N'){
            int yy = y + repeatNum;
            for (int i = y + 1; i <= yy; i++){
                if(i > col) {
                    cout << "Robot " << robotNo << " crashes into the wall" << endl;
                    return true;
                }
                int rR = isCheck(robotNo,x,i);
                if(rR != 0){
                    cout << "Robot " << robotNo << " crashes into robot " << rR << endl;
                    return true;
                }
            }
            robotList[robotNo].y = yy;
        }else{
            int yy = y - repeatNum;
            for (int i = y - 1; i >= yy; i--){
                if(i <= 0) {
                    cout << "Robot " << robotNo << " crashes into the wall" << endl;
                    return true;
                }
                int rR = isCheck(robotNo,x,i);
                if(rR != 0){
                    cout << "Robot " << robotNo << " crashes into robot " << rR << endl;
                    return true;
                }
            }
            robotList[robotNo].y = yy;
        }
    }
    else{
        int pp = repeatNum % 4;
        int i = 0;
        for (;i < 4;i++) {
            if(robotList[robotNo].direction == s[i]) break;
        }
        if(action == 'L')
            robotList[robotNo].direction = s[(i + pp) % 4];
        else 
            robotList[robotNo].direction = s[(i+4-pp) % 4];
        return false;
    }
    return false;
}

int main(){

    int testcase = 0;
    cin>>testcase;
    while(testcase --) {
        cin>>row>>col;
        cin>>robotNum>>instructionNum;
        for (int i = 1;i <= robotNum;i++) cin>>robotList[i].x>>robotList[i].y>>robotList[i].direction;
        int robotNo = 0;
        char action ;
        int repeatNum = 0;
        bool op = false;
        for (int i = 0;i < instructionNum;i++) {
            cin>>robotNo>>action>>repeatNum;
            if(op) continue;
            if(isCrash(robotNo,action,repeatNum)) op = true;
        }
        if(!op) cout << "OK" << endl;
    }
    return 0;
}
</code>

</pre>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Your Name</span></span>

      








  


<time datetime="2014-04-08T12:27:33+08:00" pubdate data-updated="true">Apr 8<span>th</span>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://xiao597896577.github.io/blog/2014/04/08/poj-2632-crashing-robots/" data-via="" data-counturl="http://xiao597896577.github.io/blog/2014/04/08/poj-2632-crashing-robots/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/04/08/poj-1068-parencodings/" title="Previous Post: POJ 1068 Parencodings">&laquo; POJ 1068 Parencodings</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/04/08/poj-training-plan/" title="Next Post: POJ Training Plan">POJ Training Plan &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/04/08/poj-training-plan/">POJ Training Plan</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/08/poj-2632-crashing-robots/">POJ 2632 Crashing Robots</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/08/poj-1068-parencodings/">POJ 1068 Parencodings</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/30/head-first-in-design-pattern-1-strategy/">Head First in Design Pattern(1) Strategy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/27/poj-3295-tautology/">POJ 3295 Tautology</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
